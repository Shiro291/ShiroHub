-- [[ SHIRO HUB MOBILE ]] --

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

-- // SETTINGS //
local Config = {
    AutoRoll = false, AutoSell = false, AutoPlaceBest = false,
    AutoInfEgg = false, AutoDiamondDice = false, NoRender = false,
    ItemName = "Basic Dice", ItemType = "dice", ItemPrice = 300,
    EggName = "MartianEgg", EggAmount = 100
}

local Theme = {
    Background = Color3.fromRGB(15, 15, 20),
    Accent = Color3.fromRGB(255, 46, 126),
    Text = Color3.fromRGB(255, 255, 255)
}

-- // CLEAN PREVIOUS //
if CoreGui:FindFirstChild("ShiroMobile") then CoreGui.ShiroMobile:Destroy() end

local sg = Instance.new("ScreenGui", CoreGui); sg.Name = "ShiroMobile"

-- // FLOATING TOGGLE BUTTON //
local MainToggle = Instance.new("TextButton", sg)
MainToggle.Size = UDim2.fromOffset(55, 55)
MainToggle.Position = UDim2.new(0.05, 0, 0.4, 0)
MainToggle.BackgroundColor3 = Theme.Background
MainToggle.Text = "SH"
MainToggle.TextColor3 = Theme.Accent
MainToggle.Font = "GothamBlack"
MainToggle.TextSize = 22
Instance.new("UICorner", MainToggle).CornerRadius = UDim.new(1, 0)
local stroke = Instance.new("UIStroke", MainToggle); stroke.Color = Theme.Accent; stroke.Thickness = 2

-- // MAIN PANEL //
local Main = Instance.new("Frame", sg)
Main.Size = UDim2.new(0, 300, 0, 400)
Main.Position = UDim2.fromScale(0.5, 0.5)
Main.AnchorPoint = Vector2.new(0.5, 0.5)
Main.BackgroundColor3 = Theme.Background
Main.Visible = false
Instance.new("UICorner", Main)

local title = Instance.new("TextLabel", Main)
title.Size = UDim2.new(1, 0, 0, 40)
title.Text = "SHIRO HUB MOBILE"
title.TextColor3 = Theme.Accent
title.Font = "GothamBlack"
title.TextSize = 16
title.BackgroundTransparency = 1

local scroll = Instance.new("ScrollingFrame", Main)
scroll.Size = UDim2.new(1, -20, 1, -50); scroll.Position = UDim2.new(0, 10, 0, 45)
scroll.BackgroundTransparency = 1; scroll.ScrollBarThickness = 2
local layout = Instance.new("UIListLayout", scroll); layout.Padding = UDim.new(0, 10)

-- // MOBILE TOGGLE MAKER //
local function CreateToggle(name, key, callback)
    local btn = Instance.new("TextButton", scroll)
    btn.Size = UDim2.new(1, 0, 0, 50)
    btn.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    btn.Text = name .. ": OFF"
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Font = "GothamBold"
    btn.TextSize = 14
    Instance.new("UICorner", btn)

    btn.MouseButton1Click:Connect(function()
        Config[key] = not Config[key]
        btn.Text = name .. (Config[key] and ": ON" or ": OFF")
        btn.BackgroundColor3 = Config[key] and Theme.Accent or Color3.fromRGB(30, 30, 40)
        if callback then callback(Config[key]) end
    end)
end

-- // FEATURES //

-- 1. NO RENDER
local Blackout = Instance.new("Frame", sg)
Blackout.Size = UDim2.fromScale(1,1); Blackout.BackgroundColor3 = Color3.new(0,0,0); Blackout.Visible = false; Blackout.ZIndex = 999

CreateToggle("NO RENDER", "NoRender", function(val)
    Blackout.Visible = val
    RunService:Set3dRenderingEnabled(not val)
end)

-- 2. QUICK MONEY
local moneyFrame = Instance.new("Frame", scroll)
moneyFrame.Size = UDim2.new(1, 0, 0, 60); moneyFrame.BackgroundTransparency = 1

local input = Instance.new("TextBox", moneyFrame)
input.Size = UDim2.new(0.7, 0, 1, 0); input.PlaceholderText = "Enter Money Amount"; input.BackgroundColor3 = Color3.fromRGB(30, 30, 40); input.TextColor3 = Theme.Text; Instance.new("UICorner", input)

local add = Instance.new("TextButton", moneyFrame)
add.Size = UDim2.new(0.25, 0, 1, 0); add.Position = UDim2.new(0.75, 0, 0, 0); add.Text = "+"; add.BackgroundColor3 = Theme.Accent; add.TextColor3 = Theme.Text; Instance.new("UICorner", add)

add.MouseButton1Click:Connect(function()
    local val = tonumber(input.Text:gsub("%D+", ""))
    if val then
        ReplicatedStorage.Events.buy:InvokeServer(Config.ItemName, -(val / Config.ItemPrice), Config.ItemType)
    end
end)

-- 3. AUTO FEATURES
CreateToggle("AUTO ROLL", "AutoRoll", function(state)
    task.spawn(function()
        while Config.AutoRoll do
            pcall(function() LocalPlayer.PlayerGui.Main.Dice.RollState:InvokeServer() end)
            task.wait()
        end
    end)
end)

CreateToggle("DIAMOND DICE", "AutoDiamondDice", function(state)
    task.spawn(function()
        while Config.AutoDiamondDice do
            pcall(function() ReplicatedStorage.Events.DontLeave:InvokeServer() end)
            task.wait()
        end
    end)
end)

CreateToggle("LOOP BUY BEST EGG", "AutoInfEgg")
CreateToggle("AUTO PLACE BEST", "AutoPlaceBest")
CreateToggle("AUTO SELL", "AutoSell")

-- // LOOPS //
task.spawn(function()
    while task.wait(2) do
        if Config.AutoPlaceBest then pcall(function() ReplicatedStorage.Events.PlaceBestBaddies:InvokeServer() end) end
        if Config.AutoSell then pcall(function() ReplicatedStorage.Events.sell:InvokeServer("all") end) end
        if Config.AutoInfEgg then
            ReplicatedStorage.Events.buy:InvokeServer(Config.ItemName, -(1e14/300), Config.ItemType)
            pcall(function() ReplicatedStorage.Events.RegularPet:InvokeServer(Config.EggName, Config.EggAmount) end)
        end
    end
end)

-- // UTILS //
MainToggle.MouseButton1Click:Connect(function() Main.Visible = not Main.Visible end)

-- Anti AFK
LocalPlayer.Idled:Connect(function()
    game:GetService("VirtualUser"):CaptureController()
    game:GetService("VirtualUser"):ClickButton2(Vector2.new())
end)

-- Draggable Mobile Fix
local d, s, p
MainToggle.InputBegan:Connect(function(i) if i.UserInputType == Enum.UserInputType.Touch then d = true; s = i.Position; p = MainToggle.Position end end)
UserInputService.InputChanged:Connect(function(i) if d and i.UserInputType == Enum.UserInputType.Touch then local delta = i.Position - s; MainToggle.Position = UDim2.new(p.X.Scale, p.X.Offset + delta.X, p.Y.Scale, p.Y.Offset + delta.Y) end end)
MainToggle.InputEnded:Connect(function(i) if i.UserInputType == Enum.UserInputType.Touch then d = false end end)
